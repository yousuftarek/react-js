{"ast":null,"code":"import _classCallCheck from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{createStore}from\"redux\";import{Link,Redirect}from\"react-router-dom\";import{connect}from\"react-redux\";import{updateCartQuantity,deleteFromCart,fetchBook}from\"../actions/bookActions\";import*as helper from\"./../helper\";import FontAwesome from\"react-fontawesome\";Array.prototype.sum=function(prop,quantity){var total=0;for(var i=0,_len=this.length;i<_len;i++){total+=parseInt(this[i][prop])*parseInt(this[i][quantity]);}return total;};var Shopingcart=/*#__PURE__*/function(_Component){_inherits(Shopingcart,_Component);function Shopingcart(props){var _this;_classCallCheck(this,Shopingcart);_this=_possibleConstructorReturn(this,_getPrototypeOf(Shopingcart).call(this,props));_this.gotoShipping=function(){if(_this.props.cart.length>0){return React.createElement(Link,{style:{background:'#FFC107',color:'white'},to:\"shipping\"},\"Go to Shipping Page\");}};_this.checkCart=function(){if(_this.props.cart.length<1){return React.createElement(Redirect,{to:\"/\"});}};window.scrollTo(0,0);return _this;}_createClass(Shopingcart,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,this.checkCart(),React.createElement(\"div\",{class:\"cart-main-area section-padding--lg bg--white\"},React.createElement(\"div\",{class:\"container\"},React.createElement(\"div\",{class:\"row\"},React.createElement(\"div\",{class:\"col-md-12 col-sm-12 ol-lg-12\"},React.createElement(\"form\",{action:\"#\"},React.createElement(\"div\",{class:\"table-content wnro__table table-responsive\"},React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",{class:\"title-top\"},React.createElement(\"th\",{class:\"product-thumbnail\"},\"Image\"),React.createElement(\"th\",{class:\"product-name\"},\"Product\"),React.createElement(\"th\",{class:\"product-price\"},\"Price\"),React.createElement(\"th\",{class:\"product-quantity\"},\"Quantity\"),React.createElement(\"th\",{class:\"product-subtotal\"},\"Total\"),React.createElement(\"th\",{class:\"product-remove\"},\"Remove\"))),React.createElement(\"tbody\",null,this.props.cart.map(function(book,index){return React.createElement(\"tr\",null,React.createElement(\"td\",{class:\"product-thumbnail\"},React.createElement(Link,{to:\"product\",onClick:function onClick(){return _this2.props.fetchBook(helper.prefix+\"book/singlebook/\"+book.id);}},React.createElement(\"img\",{style:{height:100,width:70},src:book.cover==null?\"images/books/dummy.png\":book.cover}))),React.createElement(\"td\",{class:\"product-name\"},React.createElement(Link,{to:\"product\",onClick:function onClick(){return _this2.props.fetchBook(helper.prefix+\"book/singlebook/\"+book.id);}},book.title)),React.createElement(\"td\",{class:\"product-price\"},React.createElement(\"span\",{class:\"amount\"},\"Tk.\",book.old_price)),React.createElement(\"td\",{class:\"product-quantity\"},React.createElement(\"span\",{class:\"cart-arrow mr-2\",onClick:function onClick(){_this2.props.updateCartQuantity(book.id,parseInt(book.quantity)-parseInt(1));},style:{fontWeight:'bold',fontSize:25}},\"-\"),React.createElement(\"input\",{disabled:true,class:\"cart-qInput\",type:\"number\",value:book.quantity}),React.createElement(\"span\",{class:\"cart-arrow ml-2 mr-2\",onClick:function onClick(){_this2.props.updateCartQuantity(book.id,parseInt(book.quantity)+parseInt(1));},style:{fontWeight:'bold',fontSize:25}},\"+\")),React.createElement(\"td\",{class:\"product-subtotal\"},\"Tk.\",parseInt(book.old_price)*parseInt(book.quantity)),React.createElement(\"td\",{class:\"product-remove\"},React.createElement(Link,{to:\"#\",onClick:function onClick(){_this2.props.deleteFromCart(index);}},\"X\")));}))))),React.createElement(\"div\",{class:\"cartbox__btn\"},React.createElement(\"ul\",{class:\"cart__btn__list d-flex flex-wrap flex-md-nowrap flex-lg-nowrap justify-content-end\"},React.createElement(\"li\",null,this.gotoShipping()))))),React.createElement(\"div\",{class:\"row\"},React.createElement(\"div\",{class:\"col-lg-6 offset-lg-6\"},React.createElement(\"div\",{class:\"cartbox__total__area\"},React.createElement(\"div\",{class:\"cartbox-total d-flex justify-content-between\"},React.createElement(\"ul\",{class:\"cart__total__list\"},React.createElement(\"li\",null,\"Cart total\"),React.createElement(\"li\",null,\"Sub Total\")),React.createElement(\"ul\",{class:\"cart__total__tk\"},React.createElement(\"li\",null,\"Tk.\",parseFloat(this.props.cart.sum(\"old_price\",\"quantity\")).toFixed(2)),React.createElement(\"li\",null,\"Tk.\",parseFloat(this.props.cart.sum(\"old_price\",\"quantity\")).toFixed(2)))),React.createElement(\"div\",{class:\"cart__total__amount\"},React.createElement(\"span\",null,\"Grand Total\"),React.createElement(\"span\",null,\"Tk.\",parseFloat(this.props.cart.sum(\"old_price\",\"quantity\")).toFixed(2)))))))));}}]);return Shopingcart;}(Component);var mapStateToProps=function mapStateToProps(state){return{cart:state.books.cart};};export default connect(mapStateToProps,{updateCartQuantity:updateCartQuantity,deleteFromCart:deleteFromCart,fetchBook:fetchBook})(Shopingcart);","map":{"version":3,"sources":["/home/hyper/Downloads/gronthik/bookstore/src/components/shopingcart.jsx"],"names":["React","Component","createStore","Link","Redirect","connect","updateCartQuantity","deleteFromCart","fetchBook","helper","FontAwesome","Array","prototype","sum","prop","quantity","total","i","_len","length","parseInt","Shopingcart","props","gotoShipping","cart","background","color","checkCart","window","scrollTo","map","book","index","prefix","id","height","width","cover","title","old_price","fontWeight","fontSize","parseFloat","toFixed","mapStateToProps","state","books"],"mappings":"yyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,WAAT,KAA4B,OAA5B,CACA,OAASC,IAAT,CAAeC,QAAf,KAA8B,kBAA9B,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,CAA6BC,cAA7B,CAA6CC,SAA7C,KAA6D,wBAA7D,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,aAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CAEAC,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAsB,SAASC,IAAT,CAAeC,QAAf,CAAyB,CAC3C,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAR,CAAWC,IAAI,CAAG,KAAKC,MAA5B,CAAoCF,CAAC,CAAGC,IAAxC,CAA8CD,CAAC,EAA/C,CAAmD,CACjDD,KAAK,EAAII,QAAQ,CAAC,KAAKH,CAAL,EAAQH,IAAR,CAAD,CAAR,CAA0BM,QAAQ,CAAC,KAAKH,CAAL,EAAQF,QAAR,CAAD,CAA3C,CACD,CACD,MAAOC,CAAAA,KAAP,CACD,CANH,C,GAQMK,CAAAA,W,qEACJ,qBAAYC,KAAZ,CAAmB,6CACjB,6EAAMA,KAAN,GADiB,MAKrBC,YALqB,CAKN,UAAK,CAChB,GAAG,MAAKD,KAAL,CAAWE,IAAX,CAAgBL,MAAhB,CAAyB,CAA5B,CAA8B,CAC1B,MACI,qBAAC,IAAD,EAAM,KAAK,CAAE,CAACM,UAAU,CAAE,SAAb,CAAwBC,KAAK,CAAE,OAA/B,CAAb,CAAsD,EAAE,CAAE,UAA1D,wBADJ,CAGH,CACJ,CAXoB,OAarBC,SAbqB,CAaT,UAAM,CAChB,GAAI,MAAKL,KAAL,CAAWE,IAAX,CAAgBL,MAAhB,CAAyB,CAA7B,CAAgC,CAC9B,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CACF,CAjBoB,CAEjBS,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EAFiB,aAGlB,C,+DAgBQ,iBACP,MACE,qBAAC,KAAD,CAAO,QAAP,MACG,KAAKF,SAAL,EADH,CAEE,2BAAK,KAAK,CAAC,8CAAX,EACE,2BAAK,KAAK,CAAC,WAAX,EACE,2BAAK,KAAK,CAAC,KAAX,EACE,2BAAK,KAAK,CAAC,8BAAX,EACE,4BAAM,MAAM,CAAC,GAAb,EACE,2BAAK,KAAK,CAAC,4CAAX,EACE,iCACE,iCACE,0BAAI,KAAK,CAAC,WAAV,EACE,0BAAI,KAAK,CAAC,mBAAV,UADF,CAEE,0BAAI,KAAK,CAAC,cAAV,YAFF,CAGE,0BAAI,KAAK,CAAC,eAAV,UAHF,CAIE,0BAAI,KAAK,CAAC,kBAAV,aAJF,CAKE,0BAAI,KAAK,CAAC,kBAAV,UALF,CAME,0BAAI,KAAK,CAAC,gBAAV,WANF,CADF,CADF,CAWE,iCACG,KAAKL,KAAL,CAAWE,IAAX,CAAgBM,GAAhB,CAAoB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACpC,MACE,+BACE,0BAAI,KAAK,CAAC,mBAAV,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CACA,OAAO,CAAE,yBACL,CAAA,MAAI,CAACV,KAAL,CAAWd,SAAX,CAAqBC,MAAM,CAACwB,MAAP,CAAgB,kBAAhB,CAAqCF,IAAI,CAACG,EAA/D,CADK,EADT,EAMI,2BACE,KAAK,CAAE,CAAEC,MAAM,CAAE,GAAV,CAAeC,KAAK,CAAE,EAAtB,CADT,CAEE,GAAG,CAAEL,IAAI,CAACM,KAAL,EAAc,IAAd,CAAqB,wBAArB,CAAgDN,IAAI,CAACM,KAF5D,EANJ,CADF,CADF,CAeE,0BAAI,KAAK,CAAC,cAAV,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAqB,OAAO,CAAE,yBAC1B,CAAA,MAAI,CAACf,KAAL,CAAWd,SAAX,CAAqBC,MAAM,CAACwB,MAAP,CAAgB,kBAAhB,CAAqCF,IAAI,CAACG,EAA/D,CAD0B,EAA9B,EAEGH,IAAI,CAACO,KAFR,CADF,CAfF,CAoBE,0BAAI,KAAK,CAAC,eAAV,EACE,4BAAM,KAAK,CAAC,QAAZ,QAAyBP,IAAI,CAACQ,SAA9B,CADF,CApBF,CAuBE,0BAAI,KAAK,CAAC,kBAAV,EACA,4BACA,KAAK,CAAC,iBADN,CAEI,OAAO,CAAE,kBAAM,CACb,MAAI,CAACjB,KAAL,CAAWhB,kBAAX,CACEyB,IAAI,CAACG,EADP,CAEEd,QAAQ,CAACW,IAAI,CAAChB,QAAN,CAAR,CAA0BK,QAAQ,CAAC,CAAD,CAFpC,EAID,CAPL,CAQI,KAAK,CAAE,CAACoB,UAAU,CAAE,MAAb,CAAqBC,QAAQ,CAAE,EAA/B,CARX,MADA,CAaE,6BAAO,QAAQ,KAAf,CAAgB,KAAK,CAAC,aAAtB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAEV,IAAI,CAAChB,QAA9D,EAbF,CAcE,4BACE,KAAK,CAAC,sBADR,CAEE,OAAO,CAAE,kBAAM,CACb,MAAI,CAACO,KAAL,CAAWhB,kBAAX,CACEyB,IAAI,CAACG,EADP,CAEEd,QAAQ,CAACW,IAAI,CAAChB,QAAN,CAAR,CAA0BK,QAAQ,CAAC,CAAD,CAFpC,EAID,CAPH,CAQE,KAAK,CAAE,CAACoB,UAAU,CAAE,MAAb,CAAqBC,QAAQ,CAAE,EAA/B,CART,MAdF,CAvBF,CAmDE,0BAAI,KAAK,CAAC,kBAAV,QAEGrB,QAAQ,CAACW,IAAI,CAACQ,SAAN,CAAR,CACCnB,QAAQ,CAACW,IAAI,CAAChB,QAAN,CAHZ,CAnDF,CAwDE,0BAAI,KAAK,CAAC,gBAAV,EACE,oBAAC,IAAD,EACE,EAAE,CAAE,GADN,CAEE,OAAO,CAAE,kBAAM,CACb,MAAI,CAACO,KAAL,CAAWf,cAAX,CAA0ByB,KAA1B,EACD,CAJH,MADF,CAxDF,CADF,CAqED,CAtEA,CADH,CAXF,CADF,CADF,CADF,CA0FE,2BAAK,KAAK,CAAC,cAAX,EACE,0BAAI,KAAK,CAAC,oFAAV,EAUE,8BACG,KAAKT,YAAL,EADH,CAVF,CADF,CA1FF,CADF,CADF,CA8GE,2BAAK,KAAK,CAAC,KAAX,EACE,2BAAK,KAAK,CAAC,sBAAX,EACE,2BAAK,KAAK,CAAC,sBAAX,EACE,2BAAK,KAAK,CAAC,8CAAX,EACE,0BAAI,KAAK,CAAC,mBAAV,EACE,2CADF,CAEE,0CAFF,CADF,CAKE,0BAAI,KAAK,CAAC,iBAAV,EACE,oCAAQmB,UAAU,CAAC,KAAKpB,KAAL,CAAWE,IAAX,CAAgBX,GAAhB,CAAoB,WAApB,CAAiC,UAAjC,CAAD,CAAV,CAAyD8B,OAAzD,CAAiE,CAAjE,CAAR,CADF,CAEE,oCAAQD,UAAU,CAAC,KAAKpB,KAAL,CAAWE,IAAX,CAAgBX,GAAhB,CAAoB,WAApB,CAAiC,UAAjC,CAAD,CAAV,CAAyD8B,OAAzD,CAAiE,CAAjE,CAAR,CAFF,CALF,CADF,CAWE,2BAAK,KAAK,CAAC,qBAAX,EACE,8CADF,CAEE,sCAAUD,UAAU,CAAC,KAAKpB,KAAL,CAAWE,IAAX,CAAgBX,GAAhB,CAAoB,WAApB,CAAiC,UAAjC,CAAD,CAAV,CAAyD8B,OAAzD,CAAiE,CAAjE,CAAV,CAFF,CAXF,CADF,CADF,CA9GF,CADF,CAFF,CADF,CA0ID,C,yBA/JuB1C,S,EAwK1B,GAAM2C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCrB,IAAI,CAAEqB,KAAK,CAACC,KAAN,CAAYtB,IADc,CAAL,EAA7B,CAIA,cAAenB,CAAAA,OAAO,CACpBuC,eADoB,CAEpB,CAAEtC,kBAAkB,CAAlBA,kBAAF,CAAsBC,cAAc,CAAdA,cAAtB,CAAsCC,SAAS,CAATA,SAAtC,CAFoB,CAAP,CAGba,WAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\n\nimport { createStore } from \"redux\";\nimport { Link, Redirect} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { updateCartQuantity, deleteFromCart, fetchBook} from \"../actions/bookActions\";\nimport * as helper from \"./../helper\";\nimport FontAwesome from \"react-fontawesome\";\n\nArray.prototype.sum = function(prop, quantity) {\n    var total = 0;\n    for (var i = 0, _len = this.length; i < _len; i++) {\n      total += parseInt(this[i][prop]) * parseInt(this[i][quantity]);\n    }\n    return total;\n  };\n\nclass Shopingcart extends Component {\n  constructor(props) {\n    super(props);\n    window.scrollTo(0, 0);\n  }\n\ngotoShipping = () =>{\n    if(this.props.cart.length > 0){\n        return(\n            <Link style={{background: '#FFC107', color: 'white'}} to={\"shipping\"}>Go to Shipping Page</Link>\n        )\n    }\n}\n\ncheckCart = () => {\n  if (this.props.cart.length < 1) {\n    return <Redirect to=\"/\" />;\n  }\n};\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.checkCart()}\n        <div class=\"cart-main-area section-padding--lg bg--white\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-md-12 col-sm-12 ol-lg-12\">\n                <form action=\"#\">\n                  <div class=\"table-content wnro__table table-responsive\">\n                    <table>\n                      <thead>\n                        <tr class=\"title-top\">\n                          <th class=\"product-thumbnail\">Image</th>\n                          <th class=\"product-name\">Product</th>\n                          <th class=\"product-price\">Price</th>\n                          <th class=\"product-quantity\">Quantity</th>\n                          <th class=\"product-subtotal\">Total</th>\n                          <th class=\"product-remove\">Remove</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {this.props.cart.map((book, index) => {\n                          return (\n                            <tr>\n                              <td class=\"product-thumbnail\">\n                                <Link to={\"product\"}\n                                onClick={() => \n                                    this.props.fetchBook(helper.prefix + \"book/singlebook/\" + book.id)\n                                }\n                                >\n                                  \n                                    <img\n                                      style={{ height: 100, width: 70 }}\n                                      src={book.cover == null ? \"images/books/dummy.png\" : book.cover}\n                                    />\n                              \n                                </Link>\n                              </td>\n                              <td class=\"product-name\">\n                                <Link to={\"product\"} onClick={() => \n                                    this.props.fetchBook(helper.prefix + \"book/singlebook/\" + book.id)\n                                }>{book.title}</Link>\n                              </td>\n                              <td class=\"product-price\">\n                                <span class=\"amount\">Tk.{book.old_price}</span>\n                              </td>\n                              <td class=\"product-quantity\">\n                              <span\n                              class=\"cart-arrow mr-2\"\n                                  onClick={() => {\n                                    this.props.updateCartQuantity(\n                                      book.id,\n                                      parseInt(book.quantity) - parseInt(1)\n                                    );\n                                  }}\n                                  style={{fontWeight: 'bold', fontSize: 25}}\n                                >\n                                 -\n                                </span>\n                                <input disabled class=\"cart-qInput\" type=\"number\" value={book.quantity} />\n                                <span\n                                  class=\"cart-arrow ml-2 mr-2\"\n                                  onClick={() => {\n                                    this.props.updateCartQuantity(\n                                      book.id,\n                                      parseInt(book.quantity) + parseInt(1)\n                                    );\n                                  }}\n                                  style={{fontWeight: 'bold', fontSize: 25}}\n                                >\n                                 +\n                                </span>\n                               \n                              </td>\n                              <td class=\"product-subtotal\">\n                                Tk.\n                                {parseInt(book.old_price) *\n                                  parseInt(book.quantity)}\n                              </td>\n                              <td class=\"product-remove\">\n                                <Link\n                                  to={\"#\"}\n                                  onClick={() => {\n                                    this.props.deleteFromCart(index);\n                                  }}\n                                >\n                                  X\n                                </Link>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                </form>\n                <div class=\"cartbox__btn\">\n                  <ul class=\"cart__btn__list d-flex flex-wrap flex-md-nowrap flex-lg-nowrap justify-content-end\">\n                    {/* <li>\n                      <Link to={\"#\"}>Coupon Code</Link>\n                    </li>\n                    <li>\n                      <Link to={\"#\"}>Apply Code</Link>\n                    </li>\n                    <li>\n                      <Link style={{background: '#138496', color: 'white'}} to={\"#\"}>Order as a gift</Link>\n                    </li> */}\n                    <li>\n                      {this.gotoShipping()}\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6 offset-lg-6\">\n                <div class=\"cartbox__total__area\">\n                  <div class=\"cartbox-total d-flex justify-content-between\">\n                    <ul class=\"cart__total__list\">\n                      <li>Cart total</li>\n                      <li>Sub Total</li>\n                    </ul>\n                    <ul class=\"cart__total__tk\">\n                      <li>Tk.{parseFloat(this.props.cart.sum(\"old_price\", \"quantity\")).toFixed(2)}</li>\n                      <li>Tk.{parseFloat(this.props.cart.sum(\"old_price\", \"quantity\")).toFixed(2)}</li>\n                    </ul>\n                  </div>\n                  <div class=\"cart__total__amount\">\n                    <span>Grand Total</span>\n                    <span>Tk.{parseFloat(this.props.cart.sum(\"old_price\", \"quantity\")).toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nShopingcart.propTypes = {\n  updateCartQuantity: PropTypes.func.isRequired,\n  deleteFromCart: PropTypes.func.isRequired,\n  fetchBook: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  cart: state.books.cart\n});\n\nexport default connect(\n  mapStateToProps,\n  { updateCartQuantity, deleteFromCart, fetchBook }\n)(Shopingcart);\n"]},"metadata":{},"sourceType":"module"}