{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/home/hyper/yousuftarek/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadFullConfig;\n\nvar _util = require(\"./util\");\n\nvar context = _interopRequireWildcard(require(\"../index\"));\n\nvar _plugin = _interopRequireDefault(require(\"./plugin\"));\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  var data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function _traverse() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = _interopRequireDefault(require(\"./helpers/config-api\"));\n\nvar _partial = _interopRequireDefault(require(\"./partial\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction loadFullConfig(inputOpts) {\n  var result = (0, _partial.default)(inputOpts);\n\n  if (!result) {\n    return null;\n  }\n\n  var options = result.options,\n      context = result.context;\n  var optionDefaults = {};\n  var passes = [[]];\n\n  try {\n    var plugins = options.plugins,\n        presets = options.presets;\n\n    if (!plugins || !presets) {\n      throw new Error(\"Assertion failure - plugins and presets exist\");\n    }\n\n    var ignored = function recurseDescriptors(config, pass) {\n      var plugins = config.plugins.reduce(function (acc, descriptor) {\n        if (descriptor.options !== false) {\n          acc.push(loadPluginDescriptor(descriptor, context));\n        }\n\n        return acc;\n      }, []);\n      var presets = config.presets.reduce(function (acc, descriptor) {\n        if (descriptor.options !== false) {\n          acc.push({\n            preset: loadPresetDescriptor(descriptor, context),\n            pass: descriptor.ownPass ? [] : pass\n          });\n        }\n\n        return acc;\n      }, []);\n\n      if (presets.length > 0) {\n        passes.splice.apply(passes, [1, 0].concat(_toConsumableArray(presets.map(function (o) {\n          return o.pass;\n        }).filter(function (p) {\n          return p !== pass;\n        }))));\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = presets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _ref2 = _step.value;\n            var preset = _ref2.preset;\n            var _pass = _ref2.pass;\n            if (!preset) return true;\n\n            var _ignored = recurseDescriptors({\n              plugins: preset.plugins,\n              presets: preset.presets\n            }, _pass);\n\n            if (_ignored) return true;\n            preset.options.forEach(function (opts) {\n              (0, _util.mergeOptions)(optionDefaults, opts);\n            });\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (plugins.length > 0) {\n        pass.unshift.apply(pass, _toConsumableArray(plugins));\n      }\n    }({\n      plugins: plugins.map(function (item) {\n        var desc = (0, _item.getItemDescriptor)(item);\n\n        if (!desc) {\n          throw new Error(\"Assertion failure - must be config item\");\n        }\n\n        return desc;\n      }),\n      presets: presets.map(function (item) {\n        var desc = (0, _item.getItemDescriptor)(item);\n\n        if (!desc) {\n          throw new Error(\"Assertion failure - must be config item\");\n        }\n\n        return desc;\n      })\n    }, passes[0]);\n\n    if (ignored) return null;\n  } catch (e) {\n    if (!/^\\[BABEL\\]/.test(e.message)) {\n      e.message = \"[BABEL] \".concat(context.filename || \"unknown\", \": \").concat(e.message);\n    }\n\n    throw e;\n  }\n\n  var opts = optionDefaults;\n  (0, _util.mergeOptions)(opts, options);\n  opts.plugins = passes[0];\n  opts.presets = passes.slice(1).filter(function (plugins) {\n    return plugins.length > 0;\n  }).map(function (plugins) {\n    return {\n      plugins: plugins\n    };\n  });\n  opts.passPerPreset = opts.presets.length > 0;\n  return {\n    options: opts,\n    passes: passes\n  };\n}\n\nvar loadDescriptor = (0, _caching.makeWeakCache)(function (_ref3, cache) {\n  var value = _ref3.value,\n      options = _ref3.options,\n      dirname = _ref3.dirname,\n      alias = _ref3.alias;\n  if (options === false) throw new Error(\"Assertion failure\");\n  options = options || {};\n  var item = value;\n\n  if (typeof value === \"function\") {\n    var api = Object.assign({}, context, {}, (0, _configApi.default)(cache));\n\n    try {\n      item = value(api, options, dirname);\n    } catch (e) {\n      if (alias) {\n        e.message += \" (While processing: \".concat(JSON.stringify(alias), \")\");\n      }\n\n      throw e;\n    }\n  }\n\n  if (!item || typeof item !== \"object\") {\n    throw new Error(\"Plugin/Preset did not return an object.\");\n  }\n\n  if (typeof item.then === \"function\") {\n    throw new Error(\"You appear to be using an async plugin, \" + \"which your current version of Babel does not support. \" + \"If you're using a published plugin, \" + \"you may need to upgrade your @babel/core version.\");\n  }\n\n  return {\n    value: item,\n    options: options,\n    dirname: dirname,\n    alias: alias\n  };\n});\n\nfunction loadPluginDescriptor(descriptor, context) {\n  if (descriptor.value instanceof _plugin.default) {\n    if (descriptor.options) {\n      throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n    }\n\n    return descriptor.value;\n  }\n\n  return instantiatePlugin(loadDescriptor(descriptor, context), context);\n}\n\nvar instantiatePlugin = (0, _caching.makeWeakCache)(function (_ref4, cache) {\n  var value = _ref4.value,\n      options = _ref4.options,\n      dirname = _ref4.dirname,\n      alias = _ref4.alias;\n  var pluginObj = (0, _plugins.validatePluginObject)(value);\n  var plugin = Object.assign({}, pluginObj);\n\n  if (plugin.visitor) {\n    plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n  }\n\n  if (plugin.inherits) {\n    var inheritsDescriptor = {\n      name: undefined,\n      alias: \"\".concat(alias, \"$inherits\"),\n      value: plugin.inherits,\n      options: options,\n      dirname: dirname\n    };\n    var inherits = cache.invalidate(function (data) {\n      return loadPluginDescriptor(inheritsDescriptor, data);\n    });\n    plugin.pre = chain(inherits.pre, plugin.pre);\n    plugin.post = chain(inherits.post, plugin.post);\n    plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n    plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n  }\n\n  return new _plugin.default(plugin, options, alias);\n});\n\nvar validateIfOptionNeedsFilename = function validateIfOptionNeedsFilename(options, descriptor) {\n  if (options.test || options.include || options.exclude) {\n    var formattedPresetName = descriptor.name ? \"\\\"\".concat(descriptor.name, \"\\\"\") : \"/* your preset */\";\n    throw new Error([\"Preset \".concat(formattedPresetName, \" requires a filename to be set when babel is called directly,\"), \"```\", \"babel.transform(code, { filename: 'file.ts', presets: [\".concat(formattedPresetName, \"] });\"), \"```\", \"See https://babeljs.io/docs/en/options#filename for more information.\"].join(\"\\n\"));\n  }\n};\n\nvar validatePreset = function validatePreset(preset, context, descriptor) {\n  if (!context.filename) {\n    var options = preset.options;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(function (overrideOptions) {\n        return validateIfOptionNeedsFilename(overrideOptions, descriptor);\n      });\n    }\n  }\n};\n\nvar loadPresetDescriptor = function loadPresetDescriptor(descriptor, context) {\n  var preset = instantiatePreset(loadDescriptor(descriptor, context));\n  validatePreset(preset, context, descriptor);\n  return (0, _configChain.buildPresetChain)(preset, context);\n};\n\nvar instantiatePreset = (0, _caching.makeWeakCache)(function (_ref5) {\n  var value = _ref5.value,\n      dirname = _ref5.dirname,\n      alias = _ref5.alias;\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias: alias,\n    dirname: dirname\n  };\n});\n\nfunction chain(a, b) {\n  var fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = fns[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var fn = _step2.value;\n        fn.apply(this, args);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  };\n}","map":{"version":3,"sources":["/home/hyper/yousuftarek/bookstore/node_modules/@babel/core/lib/config/full.js"],"names":["Object","defineProperty","exports","value","default","loadFullConfig","_util","require","context","_interopRequireWildcard","_plugin","_interopRequireDefault","_item","_configChain","_traverse","data","_caching","_options","_plugins","_configApi","_partial","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","inputOpts","result","options","optionDefaults","passes","plugins","presets","Error","ignored","recurseDescriptors","config","pass","reduce","acc","descriptor","push","loadPluginDescriptor","preset","loadPresetDescriptor","ownPass","length","splice","map","o","filter","p","forEach","opts","mergeOptions","unshift","item","getItemDescriptor","e","test","message","filename","slice","passPerPreset","loadDescriptor","makeWeakCache","dirname","alias","api","assign","JSON","stringify","then","instantiatePlugin","pluginObj","validatePluginObject","plugin","visitor","explode","inherits","inheritsDescriptor","name","undefined","invalidate","pre","chain","post","manipulateOptions","visitors","merge","validateIfOptionNeedsFilename","include","exclude","formattedPresetName","join","validatePreset","overrides","overrideOptions","instantiatePreset","buildPresetChain","validate","a","b","fns","Boolean","args","fn","apply"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loadFullConfig;\n\nvar _util = require(\"./util\");\n\nvar context = _interopRequireWildcard(require(\"../index\"));\n\nvar _plugin = _interopRequireDefault(require(\"./plugin\"));\n\nvar _item = require(\"./item\");\n\nvar _configChain = require(\"./config-chain\");\n\nfunction _traverse() {\n  const data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _caching = require(\"./caching\");\n\nvar _options = require(\"./validation/options\");\n\nvar _plugins = require(\"./validation/plugins\");\n\nvar _configApi = _interopRequireDefault(require(\"./helpers/config-api\"));\n\nvar _partial = _interopRequireDefault(require(\"./partial\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction loadFullConfig(inputOpts) {\n  const result = (0, _partial.default)(inputOpts);\n\n  if (!result) {\n    return null;\n  }\n\n  const {\n    options,\n    context\n  } = result;\n  const optionDefaults = {};\n  const passes = [[]];\n\n  try {\n    const {\n      plugins,\n      presets\n    } = options;\n\n    if (!plugins || !presets) {\n      throw new Error(\"Assertion failure - plugins and presets exist\");\n    }\n\n    const ignored = function recurseDescriptors(config, pass) {\n      const plugins = config.plugins.reduce((acc, descriptor) => {\n        if (descriptor.options !== false) {\n          acc.push(loadPluginDescriptor(descriptor, context));\n        }\n\n        return acc;\n      }, []);\n      const presets = config.presets.reduce((acc, descriptor) => {\n        if (descriptor.options !== false) {\n          acc.push({\n            preset: loadPresetDescriptor(descriptor, context),\n            pass: descriptor.ownPass ? [] : pass\n          });\n        }\n\n        return acc;\n      }, []);\n\n      if (presets.length > 0) {\n        passes.splice(1, 0, ...presets.map(o => o.pass).filter(p => p !== pass));\n\n        for (const {\n          preset,\n          pass\n        } of presets) {\n          if (!preset) return true;\n          const ignored = recurseDescriptors({\n            plugins: preset.plugins,\n            presets: preset.presets\n          }, pass);\n          if (ignored) return true;\n          preset.options.forEach(opts => {\n            (0, _util.mergeOptions)(optionDefaults, opts);\n          });\n        }\n      }\n\n      if (plugins.length > 0) {\n        pass.unshift(...plugins);\n      }\n    }({\n      plugins: plugins.map(item => {\n        const desc = (0, _item.getItemDescriptor)(item);\n\n        if (!desc) {\n          throw new Error(\"Assertion failure - must be config item\");\n        }\n\n        return desc;\n      }),\n      presets: presets.map(item => {\n        const desc = (0, _item.getItemDescriptor)(item);\n\n        if (!desc) {\n          throw new Error(\"Assertion failure - must be config item\");\n        }\n\n        return desc;\n      })\n    }, passes[0]);\n\n    if (ignored) return null;\n  } catch (e) {\n    if (!/^\\[BABEL\\]/.test(e.message)) {\n      e.message = `[BABEL] ${context.filename || \"unknown\"}: ${e.message}`;\n    }\n\n    throw e;\n  }\n\n  const opts = optionDefaults;\n  (0, _util.mergeOptions)(opts, options);\n  opts.plugins = passes[0];\n  opts.presets = passes.slice(1).filter(plugins => plugins.length > 0).map(plugins => ({\n    plugins\n  }));\n  opts.passPerPreset = opts.presets.length > 0;\n  return {\n    options: opts,\n    passes: passes\n  };\n}\n\nconst loadDescriptor = (0, _caching.makeWeakCache)(({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) => {\n  if (options === false) throw new Error(\"Assertion failure\");\n  options = options || {};\n  let item = value;\n\n  if (typeof value === \"function\") {\n    const api = Object.assign({}, context, {}, (0, _configApi.default)(cache));\n\n    try {\n      item = value(api, options, dirname);\n    } catch (e) {\n      if (alias) {\n        e.message += ` (While processing: ${JSON.stringify(alias)})`;\n      }\n\n      throw e;\n    }\n  }\n\n  if (!item || typeof item !== \"object\") {\n    throw new Error(\"Plugin/Preset did not return an object.\");\n  }\n\n  if (typeof item.then === \"function\") {\n    throw new Error(`You appear to be using an async plugin, ` + `which your current version of Babel does not support. ` + `If you're using a published plugin, ` + `you may need to upgrade your @babel/core version.`);\n  }\n\n  return {\n    value: item,\n    options,\n    dirname,\n    alias\n  };\n});\n\nfunction loadPluginDescriptor(descriptor, context) {\n  if (descriptor.value instanceof _plugin.default) {\n    if (descriptor.options) {\n      throw new Error(\"Passed options to an existing Plugin instance will not work.\");\n    }\n\n    return descriptor.value;\n  }\n\n  return instantiatePlugin(loadDescriptor(descriptor, context), context);\n}\n\nconst instantiatePlugin = (0, _caching.makeWeakCache)(({\n  value,\n  options,\n  dirname,\n  alias\n}, cache) => {\n  const pluginObj = (0, _plugins.validatePluginObject)(value);\n  const plugin = Object.assign({}, pluginObj);\n\n  if (plugin.visitor) {\n    plugin.visitor = _traverse().default.explode(Object.assign({}, plugin.visitor));\n  }\n\n  if (plugin.inherits) {\n    const inheritsDescriptor = {\n      name: undefined,\n      alias: `${alias}$inherits`,\n      value: plugin.inherits,\n      options,\n      dirname\n    };\n    const inherits = cache.invalidate(data => loadPluginDescriptor(inheritsDescriptor, data));\n    plugin.pre = chain(inherits.pre, plugin.pre);\n    plugin.post = chain(inherits.post, plugin.post);\n    plugin.manipulateOptions = chain(inherits.manipulateOptions, plugin.manipulateOptions);\n    plugin.visitor = _traverse().default.visitors.merge([inherits.visitor || {}, plugin.visitor || {}]);\n  }\n\n  return new _plugin.default(plugin, options, alias);\n});\n\nconst validateIfOptionNeedsFilename = (options, descriptor) => {\n  if (options.test || options.include || options.exclude) {\n    const formattedPresetName = descriptor.name ? `\"${descriptor.name}\"` : \"/* your preset */\";\n    throw new Error([`Preset ${formattedPresetName} requires a filename to be set when babel is called directly,`, `\\`\\`\\``, `babel.transform(code, { filename: 'file.ts', presets: [${formattedPresetName}] });`, `\\`\\`\\``, `See https://babeljs.io/docs/en/options#filename for more information.`].join(\"\\n\"));\n  }\n};\n\nconst validatePreset = (preset, context, descriptor) => {\n  if (!context.filename) {\n    const {\n      options\n    } = preset;\n    validateIfOptionNeedsFilename(options, descriptor);\n\n    if (options.overrides) {\n      options.overrides.forEach(overrideOptions => validateIfOptionNeedsFilename(overrideOptions, descriptor));\n    }\n  }\n};\n\nconst loadPresetDescriptor = (descriptor, context) => {\n  const preset = instantiatePreset(loadDescriptor(descriptor, context));\n  validatePreset(preset, context, descriptor);\n  return (0, _configChain.buildPresetChain)(preset, context);\n};\n\nconst instantiatePreset = (0, _caching.makeWeakCache)(({\n  value,\n  dirname,\n  alias\n}) => {\n  return {\n    options: (0, _options.validate)(\"preset\", value),\n    alias,\n    dirname\n  };\n});\n\nfunction chain(a, b) {\n  const fns = [a, b].filter(Boolean);\n  if (fns.length <= 1) return fns[0];\n  return function (...args) {\n    for (const fn of fns) {\n      fn.apply(this, args);\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}