{"ast":null,"code":"import{createStore,combineReducers,applyMiddleware,compose}from'redux';import thunk from'redux-thunk';import rootReducer from'./reducers';var initialState={};var middleware=[thunk];function saveToLocalStorage(state){try{var serializedState=JSON.stringify(state);localStorage.setItem('state',serializedState);}catch(e){console.log(e);}}function loadFromLocalStorage(){try{var serializedState=localStorage.getItem('state');if(serializedState===null)return undefined;return JSON.parse(serializedState);}catch(e){console.log(e);}}var persistedState=loadFromLocalStorage();var store=createStore(rootReducer,persistedState,compose(applyMiddleware.apply(void 0,middleware)// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n));store.subscribe(function(){return saveToLocalStorage(store.getState());});export default store;","map":{"version":3,"sources":["/home/hyper/Downloads/gronthik/bookstore/src/store.js"],"names":["createStore","combineReducers","applyMiddleware","compose","thunk","rootReducer","initialState","middleware","saveToLocalStorage","state","serializedState","JSON","stringify","localStorage","setItem","e","console","log","loadFromLocalStorage","getItem","undefined","parse","persistedState","store","subscribe","getState"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,eAAtB,CAAuCC,eAAvC,CAAwDC,OAAxD,KAAuE,OAAvE,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,YAAxB,CAEA,GAAMC,CAAAA,YAAY,CAAG,EAArB,CAEA,GAAMC,CAAAA,UAAU,CAAG,CAACH,KAAD,CAAnB,CAEA,QAASI,CAAAA,kBAAT,CAA4BC,KAA5B,CAAkC,CAC9B,GAAI,CACA,GAAMC,CAAAA,eAAe,CAAGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAxB,CACAI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,eAA9B,EACH,CAAC,MAAMK,CAAN,CAAS,CACPC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACH,CACJ,CAED,QAASG,CAAAA,oBAAT,EAA+B,CAC3B,GAAG,CACC,GAAMR,CAAAA,eAAe,CAAGG,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAxB,CACA,GAAIT,eAAe,GAAK,IAAxB,CAA8B,MAAOU,CAAAA,SAAP,CAC9B,MAAOT,CAAAA,IAAI,CAACU,KAAL,CAAWX,eAAX,CAAP,CACH,CAAC,MAAOK,CAAP,CAAU,CACRC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACH,CACJ,CAED,GAAMO,CAAAA,cAAc,CAAGJ,oBAAoB,EAA3C,CAEA,GAAMK,CAAAA,KAAK,CAAGvB,WAAW,CACrBK,WADqB,CAErBiB,cAFqB,CAGrBnB,OAAO,CACHD,eAAe,MAAf,QAAmBK,UAAnB,CACA;AAFG,CAHc,CAAzB,CASAgB,KAAK,CAACC,SAAN,CAAgB,iBAAMhB,CAAAA,kBAAkB,CAACe,KAAK,CAACE,QAAN,EAAD,CAAxB,EAAhB,EAEA,cAAeF,CAAAA,KAAf","sourcesContent":["import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nfunction saveToLocalStorage(state){\n    try {\n        const serializedState = JSON.stringify(state)\n        localStorage.setItem('state', serializedState)\n    } catch(e) {\n        console.log(e)\n    }\n}\n\nfunction loadFromLocalStorage(){\n    try{\n        const serializedState = localStorage.getItem('state')\n        if (serializedState === null) return undefined\n        return JSON.parse(serializedState)\n    } catch (e) {\n        console.log(e)\n    }\n}\n\nconst persistedState = loadFromLocalStorage()\n\nconst store = createStore(\n    rootReducer,\n    persistedState,\n    compose(\n        applyMiddleware(...middleware),\n        // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    )\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()))\n\nexport default store;"]},"metadata":{},"sourceType":"module"}