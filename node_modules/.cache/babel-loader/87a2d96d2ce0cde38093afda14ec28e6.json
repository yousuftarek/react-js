{"ast":null,"code":"import _defineProperty from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/hyper/Downloads/gronthik/bookstore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import*as helper from\"./../helper\";import{connect}from\"react-redux\";import{fetchBooks}from\"../actions/bookActions\";import FontAwesome from\"react-fontawesome\";import{BrowserView,MobileView,isBrowser,isMobile}from\"react-device-detect\";import{// Route,\nLink// NavLink,\n// Redirect,\n// Prompt\n}from\"react-router-dom\";var seeMore=/*#__PURE__*/function(_Component){_inherits(seeMore,_Component);function seeMore(props){var _this;_classCallCheck(this,seeMore);_this=_possibleConstructorReturn(this,_getPrototypeOf(seeMore).call(this,props));_this.fetchData=function(){fetch(helper.prefix+\"authors/all\").then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({authors:response.authors});}});fetch(helper.prefix+\"category/all\").then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({categories:response.categories});}});fetch(helper.prefix+\"publisher/all\").then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({publishers:response.publishers});}});// }\n};_this.changePage=function(url){if(_this.props.type===\"author\"){fetch(url).then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({authors:response.authors});}});}else if(_this.props.type===\"publisher\"){fetch(url).then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({publishers:response.publishers});}});}else if(_this.props.type===\"category\"){fetch(url).then(function(res){return res.json();}).then(function(response){if(response.success){_this.setState({categories:response.categories});}});}};_this.pagination=function(){var data=null;if(_this.props.type===\"author\"){data=_this.state.authors;}else if(_this.props.type===\"publisher\"){data=_this.state.publishers;}else if(_this.props.type===\"category\"){data=_this.state.categories;}try{if(data!=null||data!=[]){return React.createElement(React.Fragment,null,React.createElement(\"li\",{style:{display:data.prev_page_url!=null?\"inline\":\"none\"}},React.createElement(Link,{onClick:function onClick(){_this.changePage(data.prev_page_url);window.scrollTo(0,0);}},\"Previous\")),React.createElement(\"li\",{class:\"active\"},\"page\",\" \",React.createElement(Link,{style:{borderColor:\"#363636\",color:\"white\",backgroundColor:\"#363636\"}},data.current_page),\" \",\"of\",\" \",React.createElement(\"span\",{style:{fontWeight:\"bold\",fontSize:18}},data.last_page)),React.createElement(\"li\",{style:{display:data.next_page_url!=null?\"inline\":\"none\"}},React.createElement(Link,{onClick:function onClick(){_this.changePage(data.next_page_url);window.scrollTo(0,0);}},\"Next\")));}}catch(error){console.log(error);}};_this.fetchItems=function(){if(_this.props.type===\"author\"){if(_this.state.authors!=null){return _this.state.authors.data.map(function(author,index){return React.createElement(\"div\",{class:\"col-md-3 mb-3\",key:index},React.createElement(Link,{to:\"/shopGrid\",onClick:function onClick(){_this.props.fetchBooks(helper.prefix+\"author/books/\"+author.id);console.log(author.id);}},React.createElement(\"div\",{class:\"d-flex justify-content-center\"},React.createElement(\"img\",{class:\"m-pubp-img\",src:author.image==null?\"images/default/default-avatar.png\":author.image,style:_defineProperty({borderRadius:\"100%\",width:120,height:120,backgroundColor:\"#F1F2EE\"},\"borderRadius\",\"100%\")})),React.createElement(\"p\",{style:{color:\"black\",textAlign:\"center\"}},author.name)));});}}else if(_this.props.type===\"publisher\"){if(_this.state.publishers!=null){return _this.state.publishers.data.map(function(publisher,index){return React.createElement(\"div\",{class:\"col-md-3 mb-3\",key:index},React.createElement(Link,{to:\"/shopGrid\",onClick:function onClick(){_this.props.fetchBooks(helper.prefix+\"publisher/books/\"+publisher.id);console.log(publisher.id);}},React.createElement(\"div\",{class:\"d-flex justify-content-center\"},React.createElement(\"img\",{class:\"m-pubp-img\",src:publisher.image==null?\"images/default/publisher.png\":publisher.image,style:{borderRadius:\"100%\",width:120,height:120}})),React.createElement(\"p\",{style:{color:\"black\",textAlign:\"center\"}},publisher.name)));});}}else if(_this.props.type===\"category\"){if(_this.state.categories!=null){return _this.state.categories.data.map(function(category,index){return React.createElement(\"div\",{class:\"col-md-3 mb-3\",key:index},React.createElement(Link,{to:\"/shopGrid\",onClick:function onClick(){_this.props.fetchBooks(helper.prefix+\"category/\"+category.id);console.log(category.id);}},React.createElement(\"div\",{class:\"d-flex align-items-center seeMcat\",style:{background:\"#F1F2EE\",height:150,width:\"100%\",borderRadius:10,cursor:'pointer'}},React.createElement(\"p\",{class:\"seeMcatP ml-auto mr-auto\",style:{textAlign:\"center\",width:'80%'}},category.name))));});}}};_this.state={authors:null,categories:null,publishers:null};window.scrollTo(0,0);_this.fetchData();return _this;}_createClass(seeMore,[{key:\"render\",value:function render(){console.log(this.props.books);return React.createElement(React.Fragment,null,React.createElement(\"div\",{class:\"container\"},React.createElement(\"div\",{class:\"row d-flex justify-content-center mt-4\"},React.createElement(\"p\",{class:\"search_fv \"},\"Search your favorite \",this.props.type),React.createElement(\"div\",{class:\"col-md-6 input-group mb-3\"},React.createElement(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"enter keyword\"}),React.createElement(\"div\",{class:\"input-group-append\",style:{background:\"gray\",width:39}},React.createElement(FontAwesome,{name:\"search\",style:{color:\"white\",padding:10,cursor:\"pointer\"}})))),React.createElement(\"div\",{class:\"row mt-3\"},this.fetchItems()),React.createElement(\"ul\",{class:\"wn__pagination mt-3\"},this.pagination())));}}]);return seeMore;}(Component);var mapStateToProps=function mapStateToProps(state){return{type:state.books.seemore};};// export default seeMore;\nexport default connect(mapStateToProps,{fetchBooks:fetchBooks})(seeMore);","map":{"version":3,"sources":["/home/hyper/Downloads/gronthik/bookstore/src/components/seemore.jsx"],"names":["React","Component","helper","connect","fetchBooks","FontAwesome","BrowserView","MobileView","isBrowser","isMobile","Link","seeMore","props","fetchData","fetch","prefix","then","res","json","response","success","setState","authors","categories","publishers","changePage","url","type","pagination","data","state","display","prev_page_url","window","scrollTo","borderColor","color","backgroundColor","current_page","fontWeight","fontSize","last_page","next_page_url","error","console","log","fetchItems","map","author","index","id","image","borderRadius","width","height","textAlign","name","publisher","category","background","cursor","books","padding","mapStateToProps","seemore"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as helper from \"./../helper\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { fetchBooks } from \"../actions/bookActions\";\nimport FontAwesome from \"react-fontawesome\";\n\nimport {\n  BrowserView,\n  MobileView,\n  isBrowser,\n  isMobile\n} from \"react-device-detect\";\n\nimport {\n  // Route,\n  Link\n  // NavLink,\n  // Redirect,\n  // Prompt\n} from \"react-router-dom\";\n\nclass seeMore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authors: null,\n      categories: null,\n      publishers: null\n    };\n    window.scrollTo(0, 0);\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    fetch(helper.prefix + \"authors/all\")\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ authors: response.authors });\n        }\n      });\n    fetch(helper.prefix + \"category/all\")\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ categories: response.categories });\n        }\n      });\n    fetch(helper.prefix + \"publisher/all\")\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ publishers: response.publishers });\n        }\n      });\n    // }\n  };\n\n  changePage = (url) =>{\n    if (this.props.type === \"author\"){\n      fetch( url)\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ authors: response.authors });\n        }\n      });\n    }else if(this.props.type === \"publisher\"){\n      fetch( url)\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ publishers: response.publishers });\n        }\n      });\n    }else if(this.props.type === \"category\"){\n      fetch( url)\n      .then(res => res.json())\n      .then(response => {\n        if (response.success) {\n          this.setState({ categories: response.categories });\n        }\n      });\n    }\n  }\n\n  pagination = () => {\n    let data = null;\n    if (this.props.type === \"author\"){\n      data = this.state.authors\n    }else if(this.props.type === \"publisher\"){\n      data = this.state.publishers\n    }else if(this.props.type === \"category\"){\n      data = this.state.categories\n    }\n    try {\n      if (\n        data != null ||\n        data != []\n      ) {\n        return (\n          <React.Fragment>\n            <li\n              style={{\n                display:\n                  data.prev_page_url != null\n                    ? \"inline\"\n                    : \"none\"\n              }}\n            >\n              <Link\n                onClick={() => {\n                  this.changePage(data.prev_page_url);\n                  window.scrollTo(0, 0);\n                }}\n              >\n                Previous\n              </Link>\n            </li>\n            <li class=\"active\">\n              page{\" \"}\n              <Link\n                style={{\n                  borderColor: \"#363636\",\n                  color: \"white\",\n                  backgroundColor: \"#363636\"\n                }}\n              >\n                {data.current_page}\n              </Link>{\" \"}\n              of{\" \"}\n              <span style={{ fontWeight: \"bold\", fontSize: 18 }}>\n                {data.last_page}\n              </span>\n            </li>\n            <li\n              style={{\n                display:\n                  data.next_page_url != null\n                    ? \"inline\"\n                    : \"none\"\n              }}\n            >\n              <Link\n                onClick={() => {\n                  this.changePage(data.next_page_url);\n                  window.scrollTo(0, 0);\n                }}\n              >\n                Next\n              </Link>\n            </li>\n          </React.Fragment>\n        );\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  fetchItems = () => {\n    if (this.props.type === \"author\") {\n      if (this.state.authors != null) {\n        return this.state.authors.data.map((author, index) => {\n          return (\n            <div class=\"col-md-3 mb-3\" key={index}>\n              <Link\n                to=\"/shopGrid\"\n                onClick={() => {\n                  this.props.fetchBooks(\n                    helper.prefix + \"author/books/\" + author.id\n                  );\n                  console.log(author.id);\n                }}\n              >\n                <div class=\"d-flex justify-content-center\">\n                  \n                    <img\n                      class=\"m-pubp-img\"\n                      src={author.image == null ? \"images/default/default-avatar.png\" : author.image}\n                      style={{\n                        borderRadius: \"100%\",\n                        width: 120,\n                        height: 120,\n                        backgroundColor: \"#F1F2EE\",\n                        borderRadius: \"100%\"\n                      }}\n                    />\n        \n                </div>\n                <p style={{ color: \"black\", textAlign: \"center\" }}>\n                  {author.name}\n                </p>\n              </Link>\n            </div>\n          );\n        });\n      }\n    } else if (this.props.type === \"publisher\") {\n      if (this.state.publishers != null) {\n        return this.state.publishers.data.map((publisher, index) => {\n          return (\n            <div class=\"col-md-3 mb-3\" key={index}>\n              <Link\n                to=\"/shopGrid\"\n                onClick={() => {\n                  this.props.fetchBooks(\n                    helper.prefix + \"publisher/books/\" + publisher.id\n                  );\n                  console.log(publisher.id);\n                }}\n              >\n                <div class=\"d-flex justify-content-center\">\n                    <img\n                      class=\"m-pubp-img\"\n                      src={publisher.image == null ? \"images/default/publisher.png\" : publisher.image}\n                      style={{\n                        borderRadius: \"100%\",\n                        width: 120,\n                        height: 120\n                      }}\n                    />\n                </div>\n                <p style={{ color: \"black\", textAlign: \"center\" }}>\n                  {publisher.name}\n                </p>\n              </Link>\n            </div>\n          );\n        });\n      }\n    } else if (this.props.type === \"category\") {\n      if (this.state.categories != null) {\n        return this.state.categories.data.map((category, index) => {\n          return (\n            <div class=\"col-md-3 mb-3\" key={index}>\n               <Link\n                to=\"/shopGrid\"\n                onClick={() => {\n                  this.props.fetchBooks(\n                    helper.prefix + \"category/\" + category.id\n                  );\n                  console.log(category  .id);\n                }}\n              >\n              <div\n                class=\"d-flex align-items-center seeMcat\"\n                style={{\n                  background: \"#F1F2EE\",\n                  height: 150,\n                  width: \"100%\",\n                  borderRadius: 10,\n                  cursor: 'pointer'\n                }}\n              >\n                <p\n                  class=\"seeMcatP ml-auto mr-auto\"\n                  style={{ textAlign: \"center\", width: '80%'}}\n                >\n                  {category.name}\n                </p>\n              </div>\n              </Link>\n            </div>\n          );\n        });\n      }\n    }\n  };\n\n  render() {\n    console.log(this.props.books);\n    return (\n      <React.Fragment>\n        <div class=\"container\">\n          <div class=\"row d-flex justify-content-center mt-4\">\n            <p class=\"search_fv \">Search your favorite {this.props.type}</p>\n            <div class=\"col-md-6 input-group mb-3\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"enter keyword\"\n              />\n              <div\n                class=\"input-group-append\"\n                style={{ background: \"gray\", width: 39 }}\n              >\n                <FontAwesome\n                  name=\"search\"\n                  style={{ color: \"white\", padding: 10, cursor: \"pointer\" }}\n                />\n              </div>\n            </div>\n          </div>\n          <div class=\"row mt-3\">{this.fetchItems()}</div>\n          <ul class=\"wn__pagination mt-3\">{this.pagination()}</ul>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nseeMore.propTypes = {\n  fetchBooks: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  type: state.books.seemore\n});\n\n// export default seeMore;\nexport default connect(\n  mapStateToProps,\n  { fetchBooks }\n)(seeMore);\n"]},"metadata":{},"sourceType":"module"}